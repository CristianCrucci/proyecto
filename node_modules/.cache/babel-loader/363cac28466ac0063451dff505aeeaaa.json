{"ast":null,"code":"var _jsxFileName = \"/var/www/html/Pruebas/prueba/src/components/RegistrationForm/Registro.js\";\nimport React, { useState } from 'react';\nimport axios from 'axios';\nimport './Registro.css';\nimport { API_BASE_URL, ACCESS_TOKEN_NAME } from '../../constants/apiConstants';\nimport { withRouter } from \"react-router-dom\";\n\nfunction Registro(props) {\n  const [state, setState] = useState({\n    email: \"\",\n    password: \"\",\n    confirmPassword: \"\",\n    successMessage: null\n  });\n\n  const handleChange = e => {\n    const {\n      id,\n      value\n    } = e.target;\n    setState(prevState => ({ ...prevState,\n      [id]: value\n    }));\n  };\n\n  const {\n    default: axios\n  } = require(\"axios\");\n\n  const sendDetailsToServer = () => {\n    if (state.email.lengh && state.password.lengh) {\n      props.showError(null);\n      const payload = {\n        \"email\": state.email,\n        \"password\": state.password\n      };\n      axios.post(API_BASE_URL + '/user/register', payload).then(function (response) {\n        if (response.status === 200) {\n          setState(prevState => ({ ...prevState,\n            'successMessage': 'Se registro satisfactoriamente. Redirigiendo a la pagina inicial'\n          }));\n          localStorage.setItem(ACCESS_TOKEN_NAME, response.data.token);\n          redirectToHome();\n          props.showError(null);\n        } else {\n          props.showError(\"Ocurrió un error\");\n        }\n      }).catch(function (error) {\n        console.log(error);\n      });\n    } else {\n      props.showError('Por favor, ingrese un usuario y una contraseña valido');\n    }\n  };\n\n  const redirectToHome = () => {\n    props.updateTitle('Home');\n    props.history.push('./home');\n  };\n\n  const redirectToLogin = () => {\n    props.updateTitle('Login');\n    props.history.push('./login');\n  };\n\n  const handleSubmitClick = e => {\n    e.preventDefault();\n\n    if (state.password === state.confirmPassword) {\n      sendDetailsToServer();\n    } else {\n      props.showError('Las contraseñas no coinciden');\n    }\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"card col-12 col-lg-4 login-card mt-2 hv-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"form\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-group text-left\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"exampleInputEmail1\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 21\n    }\n  }, \"Ingresa el email\"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"email\",\n    className: \"form-control\",\n    id: \"email\",\n    \"aria-describedby\": \"emailHelp\",\n    placeholder: \"Ingresa un email\",\n    value: state.email,\n    onChange: handleChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 21\n    }\n  }), /*#__PURE__*/React.createElement(\"small\", {\n    id: \"emailHelp\",\n    className: \"form-text text-muted\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 21\n    }\n  }, \"Nunca compartiremos su correo\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-group text-left\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"exampleInputPassword1\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 21\n    }\n  }, \"Contrase\\xF1a\"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"password\",\n    className: \"form-control\",\n    id: \"password\",\n    placeholder: \"Password\",\n    value: state.password,\n    onChange: handleChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 21\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-group text-left\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"exampleInputPassword1\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 21\n    }\n  }, \"Confirma tu contrase\\xF1a\"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"password\",\n    className: \"form-control\",\n    id: \"confirmPassword\",\n    placeholder: \"Password\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 21\n    }\n  })), /*#__PURE__*/React.createElement(\"button\", {\n    type: \"submit\",\n    className: \"btn btn-primary\",\n    onClick: handleSubmitClick,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 17\n    }\n  }, \"Registrarse\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"LoginMensage\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 21\n    }\n  }, \"\\xBFTenes una cuenta? \"), /*#__PURE__*/React.createElement(\"span\", {\n    className: \"RegisterText\",\n    onClick: redirectToLogin,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 21\n    }\n  }, \"Inici\\xE1 Sesi\\xF3n\"))));\n}\n\nexport default withRouter(Registro);","map":{"version":3,"sources":["/var/www/html/Pruebas/prueba/src/components/RegistrationForm/Registro.js"],"names":["React","useState","axios","API_BASE_URL","ACCESS_TOKEN_NAME","withRouter","Registro","props","state","setState","email","password","confirmPassword","successMessage","handleChange","e","id","value","target","prevState","default","require","sendDetailsToServer","lengh","showError","payload","post","then","response","status","localStorage","setItem","data","token","redirectToHome","catch","error","console","log","updateTitle","history","push","redirectToLogin","handleSubmitClick","preventDefault"],"mappings":"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","sourcesContent":["import React, {useState} from 'react';\nimport axios from 'axios';\nimport './Registro.css';\nimport {API_BASE_URL, ACCESS_TOKEN_NAME} from '../../constants/apiConstants';\nimport { withRouter } from \"react-router-dom\";\n\nfunction Registro(props) {\n    const [state, setState] = useState({\n        email : \"\",\n        password : \"\",\n        confirmPassword: \"\",\n        successMessage: null\n    })\n    const handleChange = (e) => {\n        const {id, value} = e.target\n        setState(prevState => ({\n            ...prevState,\n            [id] : value\n        }))\n    }\n    const { default: axios } = require(\"axios\");\n\nconst sendDetailsToServer = () => {\n    if(state.email.lengh && state.password.lengh) {\n        props.showError(null);\n        const payload={\n            \"email\":state.email,\n            \"password\":state.password,\n        }\n        axios.post(API_BASE_URL+'/user/register', payload).then(function (response) {\n            if(response.status === 200){\n                setState(prevState => ({\n                    ...prevState,\n                    'successMessage' : 'Se registro satisfactoriamente. Redirigiendo a la pagina inicial'\n                }))\n                localStorage.setItem(ACCESS_TOKEN_NAME, response.data.token);\n                redirectToHome();\n                props.showError(null);\n            } else {\n                props.showError(\"Ocurrió un error\");\n            }\n        })\n        .catch(function (error) {\n            console.log(error);\n        });\n    } else {\n        props.showError('Por favor, ingrese un usuario y una contraseña valido')\n    }\n}\nconst redirectToHome = () => {\n    props.updateTitle('Home')\n    props.history.push('./home');\n}\nconst redirectToLogin = () => {\n    props.updateTitle('Login')\n    props.history.push('./login');\n}\n\n    const handleSubmitClick = (e) => {\n        e.preventDefault();\n        if(state.password === state.confirmPassword) {\n            sendDetailsToServer()\n        } else {\n            props.showError('Las contraseñas no coinciden');\n        }\n    }\n    return (\n        <div className=\"card col-12 col-lg-4 login-card mt-2 hv-center\">\n            <form>\n                <div className=\"form-group text-left\">\n                    <label htmlFor=\"exampleInputEmail1\">Ingresa el email</label>\n                    <input type=\"email\" className=\"form-control\" id=\"email\" aria-describedby=\"emailHelp\" placeholder=\"Ingresa un email\" value={state.email} onChange={handleChange} />\n                    <small id=\"emailHelp\" className=\"form-text text-muted\">Nunca compartiremos su correo</small>\n                </div>\n                <div className=\"form-group text-left\">\n                    <label htmlFor=\"exampleInputPassword1\">Contraseña</label>\n                    <input type=\"password\" className=\"form-control\" id=\"password\" placeholder=\"Password\" value={state.password} onChange={handleChange} />\n                </div>\n                <div className=\"form-group text-left\">\n                    <label htmlFor=\"exampleInputPassword1\">Confirma tu contraseña</label>\n                    <input type=\"password\" className=\"form-control\" id=\"confirmPassword\" placeholder=\"Password\" />\n                </div>\n                <button type=\"submit\" className=\"btn btn-primary\" onClick={handleSubmitClick}>Registrarse</button>\n                <div className=\"LoginMensage\">\n                    <span>¿Tenes una cuenta? </span>\n                    <span className=\"RegisterText\" onClick={redirectToLogin}>Iniciá Sesión</span>\n                </div>\n            </form>\n        </div>\n    )\n}\nexport default withRouter(Registro);"]},"metadata":{},"sourceType":"module"}